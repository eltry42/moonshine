<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Be My Valentine</title>
    <link rel="stylesheet" href="css/valentine.css" />
  </head>
  <body>
    <!-- COUNTDOWN OVERLAY -->
    <div id="countdown-overlay">
      <div id="countdown-number">10</div>
    </div>

    <!-- MAIN PAGE CONTENT -->
    <div class="image-row">
      <img src="bab.png" alt="valentine left" />
      <img src="me.png" alt="valentine right" />
    </div>

    <div id="valentineQuestion">
      <b>Princess Halin, Will you be my valentine xx?</b>
    </div>

    <button class="answerButton" onclick="location.href='lastpage.html'">Yes</button>
    <button class="answerButton" id="noButton">I don't wanna o(‚ï•Ôπè‚ï•)o</button>

    <div class="please-wrapper">
      <img src="please.png" alt="cat asking question" class="responsive" />
    </div>

    <script>
      // ===============================
      // 1Ô∏è‚É£ Countdown Logic
      // ===============================
      window.onload = () => {
        let count = 10;
        const countdownNumber = document.getElementById("countdown-number");
        const countdownOverlay = document.getElementById("countdown-overlay");
        const countdownInterval = setInterval(() => {
          count--;
          if (count > 0) {
            countdownNumber.textContent = count;
          } else {
            clearInterval(countdownInterval);
            countdownOverlay.style.display = "none";
            document.getElementById("valentine-audio").play(); // autoplay after countdown
          }
        }, 1000);
      };

      // ===============================
      // 2Ô∏è‚É£ YES/NO Button Logic
      // ===============================
      const noMessages = [
        "Are you sure? ü•∫",
        "Pls think again üíî",
        "Daddy is getting angry !!!üò°",
        "Okay but what if‚Ä¶ üëâüëà",
        "You‚Äôre breaking my heart üíò"
      ];

      let noClickCount = 0;
      const maxNoClicks = 6;

      const noButton = document.getElementById("noButton");
      const yesButton = document.querySelector('button[onclick*="lastpage.html"]');

      noButton.addEventListener("click", function () {
        // Grow YES button
        const currentFontSize = parseInt(window.getComputedStyle(yesButton).fontSize);
        yesButton.style.fontSize = currentFontSize + 10 + "px";

        // Change NO button text
        this.textContent = noMessages[noClickCount];
        noClickCount++;

        // Disable after 6 clicks
        if (noClickCount >= maxNoClicks) {
          this.disabled = true;
          this.textContent = "No more no ALLOWED üò§";
          this.style.opacity = "0.5";
          this.style.cursor = "not-allowed";
        }
      });

      // ===============================
      // 3Ô∏è‚É£ Falling Flowers
      // ===============================
      function createFlower() {
        const flower = document.createElement("div");
        flower.classList.add("falling-flower");
        const flowers = ["üå∏", "üåπ", "üå∫", "üíê"];
        flower.textContent = flowers[Math.floor(Math.random() * flowers.length)];

        flower.style.left = Math.random() * 100 + "vw";
        flower.style.animationDuration = 3 + Math.random() * 4 + "s";
        flower.style.fontSize = 16 + Math.random() * 24 + "px";

        document.body.appendChild(flower);

        setTimeout(() => flower.remove(), 7000);
      }

      setInterval(createFlower, 100);
    </script>
  </body>
</html>
